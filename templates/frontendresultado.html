<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<title>Resultado del Análisis</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&family=Orbitron:wght@600&display=swap');

body {
    margin: 0; padding: 0;
    font-family: 'Roboto Mono', monospace;
    background: #0b1e2d;
    color: #e0f7fa;
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
}

/* Fondo con rejilla técnica */
.grid-bg {
    position: fixed; inset: 0;
    background-image: 
        linear-gradient(rgba(0, 255, 255, 0.05) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0, 255, 255, 0.05) 1px, transparent 1px);
    background-size: 40px 40px;
    z-index: -2;
}

/* Contenedor principal estilo "Tablet Científica" */
.dashboard {
    width: 90%; max-width: 1100px;
    height: 80vh;
    background: rgba(16, 38, 54, 0.85);
    border: 1px solid rgba(0, 255, 255, 0.3);
    border-radius: 20px;
    display: grid;
    grid-template-columns: 1fr 1fr;
    box-shadow: 0 0 50px rgba(0, 0, 0, 0.8);
    backdrop-filter: blur(10px);
    overflow: hidden;
    position: relative;
}

/* Decoraciones de esquina */
.corner {
    position: absolute; width: 20px; height: 20px;
    border: 2px solid #00e5ff;
}
.tl { top: 10px; left: 10px; border-right: none; border-bottom: none; }
.tr { top: 10px; right: 10px; border-left: none; border-bottom: none; }
.bl { bottom: 10px; left: 10px; border-right: none; border-top: none; }
.br { bottom: 10px; right: 10px; border-left: none; border-top: none; }

/* Columna Izquierda: DATOS */
.left-panel {
    padding: 40px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    border-right: 1px solid rgba(0, 255, 255, 0.1);
}

.label-scan {
    color: #00e5ff;
    font-size: 0.8rem;
    letter-spacing: 2px;
    margin-bottom: 10px;
    text-transform: uppercase;
    animation: blink 2s infinite;
}

h2 {
    font-family: 'Orbitron', sans-serif;
    font-size: 2.5rem;
    margin-bottom: 20px;
    color: #fff;
    text-shadow: 0 0 10px #00e5ff;
}

.data-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
    margin-top: 20px;
    background: rgba(0,0,0,0.3);
    padding: 20px;
    border-radius: 10px;
    border: 1px solid rgba(0, 255, 255, 0.2);
}

.data-item {
    display: flex;
    flex-direction: column;
}
.data-item span:first-child {
    font-size: 0.75rem; color: #81d4fa;
}
.data-item span:last-child {
    font-size: 1.1rem; color: #fff; font-weight: bold;
}

.prediction-box {
    margin-top: 30px;
    padding: 15px;
    background: linear-gradient(90deg, rgba(0, 229, 255, 0.1), transparent);
    border-left: 4px solid #00e5ff;
}

/* Columna Derecha: IMAGEN */
.right-panel {
    padding: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

.frame {
    width: 100%; height: 100%;
    max-height: 400px;
    border: 2px dashed rgba(0, 255, 255, 0.4);
    padding: 10px;
    position: relative;
    border-radius: 10px;
}

.frame img {
    width: 100%; height: 100%;
    object-fit: cover;
    border-radius: 5px;
    filter: contrast(1.1) brightness(1.1);
}

.scan-line {
    position: absolute; top: 0; left: 0;
    width: 100%; height: 5px;
    background: rgba(0, 255, 255, 0.8);
    box-shadow: 0 0 10px #00e5ff;
    animation: scan 3s infinite linear;
    opacity: 0.6;
}

.btn-back {
    margin-top: 20px;
    text-decoration: none;
    padding: 10px 30px;
    border: 1px solid #00e5ff;
    color: #00e5ff;
    border-radius: 5px;
    transition: 0.3s;
    text-transform: uppercase;
    font-size: 0.8rem;
}
.btn-back:hover { background: rgba(0, 229, 255, 0.1); color: #fff; }

@keyframes blink { 0%,100%{opacity:1;} 50%{opacity:0.5;} }
@keyframes scan { 0%{top:0;} 100%{top:100%;} }

</style>
</head>
<body>

<div class="grid-bg"></div>

<div class="dashboard">
    <div class="corner tl"></div><div class="corner tr"></div>
    <div class="corner bl"></div><div class="corner br"></div>

    <div class="left-panel">
        <div class="label-scan">● ANÁLISIS COMPLETADO</div>
        
        <h2>
            {% if "ADELIE" in poema %} PINGÜINO ADELIE
            {% elif "CHINSTRAP" in poema %} PINGÜINO BARBIJO
            {% elif "GENTOO" in poema %} PINGÜINO PAPÚA
            {% else %} ESPECIE DESCONOCIDA
            {% endif %}
        </h2>

        <div class="data-grid">
            <div class="data-item">
                <span>LARGO PICO</span>
                <span>{{ features.bill_length_mm }} mm</span>
            </div>
            <div class="data-item">
                <span>PROF. PICO</span>
                <span>{{ features.bill_depth_mm }} mm</span>
            </div>
            <div class="data-item">
                <span>ALETA</span>
                <span>{{ features.flipper_length_mm }} mm</span>
            </div>
            <div class="data-item">
                <span>MASA</span>
                <span>{{ features.body_mass_g }} g</span>
            </div>
            <div class="data-item">
                <span>SEXO</span>
                <span>{{ 'MACHO' if features.sex == 1 else 'HEMBRA' }}</span>
            </div>
        </div>

        <div class="prediction-box">
            {{ poema }}
        </div>

        <a href="/" class="btn-back">Nuevo Análisis</a>
    </div>

    <div class="right-panel">
        <div class="frame">
            <div class="scan-line"></div>
            <img src="{{ img_url }}" alt="Pingüino analizado" onerror="this.src='https://upload.wikimedia.org/wikipedia/commons/a/ac/No_image_available.svg'">
        </div>
        <div style="margin-top:10px; font-size:0.7rem; color:#81d4fa;">
            ID DE MUESTRA: {{ range(1000, 9999) | random }}
        </div>
    </div>
</div>

</body>
</html>